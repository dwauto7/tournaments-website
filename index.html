<!DOCTYPE HTML>
<html>
	<head>
		<title>TournaMate - AI Blizzard Tournaments</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Page Wrapper -->
		<div id="page-wrapper">

			<!-- Header -->
			<header id="header" class="alt">
				<h1><a href="index.html">TournaMate</a></h1>
				<nav>
					<a href="#menu">Menu</a>
				</nav>
			</header>

			<!-- Menu -->
			<nav id="menu">
				<div class="inner">
					<h2>Menu</h2>
					<ul class="links">
						<li><a href="#banner">Home</a></li>
						<li><a href="#flow">How It Works</a></li>
						<li><a href="#tournaments">Tournaments</a></li>
						<li><a href="#registration">Register</a></li>
					</ul>
					<a href="#" class="close">Close</a>
				</div>
			</nav>

			<!-- Banner -->
			<section id="banner">
				<div class="inner">
					<div class="logo"><span class="icon fa-gem"></span></div>
					<h2>TournaMate</h2>
					<p>Your AI-Powered Tournament Assistant</p>
					<div class="actions special">
						<a href="#flow" class="button primary">How It Works</a>
						<a href="#tournaments" class="button">Create Tournament</a>
						<a href="#registration" class="button">Register Now</a>
					</div>
				</div>
			</section>

			<!-- Wrapper -->
			<section id="wrapper">

				<!-- Section 1: Flow Explanation -->
				<section id="flow" class="wrapper spotlight style1">
					<div class="inner">
						<div class="content">
							<h2 class="major">How TournaMate Works</h2>
							<div class="flow-steps">
								<div class="step">
									<h3>1. Select Tournament</h3>
									<p>Browse available tournaments and choose your competition</p>
								</div>
								<div class="step">
									<h3>2. Register & Provide Details</h3>
									<p>Enter your information and skill level for proper grouping</p>
								</div>
								<div class="step">
									<h3>3. Smart Grouping</h3>
									<p>12 hours before start, participants are grouped by skill level</p>
								</div>
								<div class="step">
									<h3>4. Tournament Time!</h3>
									<p>View your group and compete with evenly matched opponents</p>
								</div>
							</div>
							<a href="#registration" class="special">Get Started</a>
						</div>
					</div>
				</section>

				<!-- Section 2: Tournaments -->
				<section id="tournaments" class="wrapper alt style2">
					<div class="inner">
						<h2 class="major">Create Tournament</h2>
						<p>Set up your own tournament in minutes</p>
						
						<form id="tournamentForm">
							<div class="row gtr-uniform">
								<div class="col-6 col-12-xsmall">
									<label for="tournament-type">Tournament Type</label>
									<select id="tournament-type" required>
										<option value="">Select Type</option>
										<option value="golf">Golf Tournament</option>
										<option value="gaming">Gaming Tournament</option>
										<option value="other">Other</option>
									</select>
								</div>
								<div class="col-6 col-12-xsmall">
									<label for="tournament-name">Tournament Name</label>
									<input type="text" id="tournament-name" placeholder="Enter tournament name" required />
								</div>
								<div class="col-6 col-12-xsmall">
									<label for="start-date">Start Date</label>
									<input type="date" id="start-date" required />
								</div>
								<div class="col-6 col-12-xsmall">
									<label for="start-time">Start Time</label>
									<input type="time" id="start-time" required />
								</div>
								<div class="col-12">
									<label for="max-participants">Max Participants</label>
									<input type="number" id="max-participants" placeholder="50" min="2" max="500" required />
								</div>
								<div class="col-12">
									<button type="submit" class="button primary">Create Tournament</button>
									<p id="tournamentResponse"></p>
								</div>
							</div>
						</form>
					</div>
				</section>

				<!-- Section 3: Registration -->
				<section id="registration" class="wrapper style3 special">
					<div class="inner">
						<header class="major">
							<h2>Register for Tournament</h2>
							<p>Select a tournament and join the competition</p>
						</header>

						<form id="registerForm">
							<select id="tournament-select" required>
								<option value="">Select Tournament</option>
								<!-- Tournaments will be populated dynamically -->
							</select>
							<input type="text" id="name" placeholder="Full Name" required />
							<input type="text" id="phone" placeholder="+60123456789" required />
							<input type="email" id="email" placeholder="Email Address" required />
							<select id="handicap" required>
								<option value="">Select Skill Level</option>
								<option value="Beginner">Beginner</option>
								<option value="Intermediate">Intermediate</option>
								<option value="Advanced">Advanced</option>
								<option value="Expert">Expert</option>
							</select>
							<button type="submit" class="button primary">Register Now</button>
							<p id="responseMessage"></p>
						</form>

						<div class="registration-info">
							<h3>What happens after registration?</h3>
							<ul>
								<li>✓ Your data is securely stored in our system</li>
								<li>✓ You'll receive SMS confirmation via n8n workflow</li>
								<li>✓ 12 hours before tournament: Group assignments sent</li>
								<li>✓ View your group members and prepare to compete!</li>
							</ul>
						</div>
					</div>
				</section>

			</section>

			<!-- Footer -->
			<section id="footer">
				<div class="inner">
					<h2 class="major">Get in touch</h2>
					<p>Questions about tournaments or need assistance? Contact our team.</p>
					<ul class="contact">
						<li class="icon solid fa-envelope"><a href="#">support@aiblizzard.work</a></li>
						<li class="icon brands fa-discord"><a href="#">Join our Discord</a></li>
					</ul>
					<ul class="copyright">
						<li>&copy; TournaMate by AI Blizzard. All rights reserved.</li>
					</ul>
				</div>
			</section>

		</div>

		<!-- Scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/jquery.scrollex.min.js"></script>
		<script src="assets/js/browser.min.js"></script>
		<script src="assets/js/breakpoints.min.js"></script>
		<script src="assets/js/util.js"></script>
		<script src="assets/js/main.js"></script>

		<!-- Custom Scripts -->
		<script>
		// Registration Form
		document.getElementById('registerForm').addEventListener('submit', async (e) => {
			e.preventDefault();
			const data = {
				tournament: document.getElementById('tournament-select').value,
				name: document.getElementById('name').value,
				phone: document.getElementById('phone').value,
				email: document.getElementById('email').value,
				handicap: document.getElementById('handicap').value,
			};

			const responseBox = document.getElementById('responseMessage');
			responseBox.textContent = "Submitting registration...";

			try {
				const res = await fetch("https://d33.app.n8n.cloud/webhook/register", {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const text = await res.text();
				responseBox.textContent = "Registration successful! You'll receive SMS confirmation shortly.";
			} catch (err) {
				responseBox.textContent = "Error submitting registration. Please try again.";
				console.error(err);
			}
		});

		// Tournament Creation Form
		document.getElementById('tournamentForm').addEventListener('submit', async (e) => {
			e.preventDefault();
			const data = {
				type: document.getElementById('tournament-type').value,
				name: document.getElementById('tournament-name').value,
				date: document.getElementById('start-date').value,
				time: document.getElementById('start-time').value,
				maxParticipants: document.getElementById('max-participants').value,
			};

			const responseBox = document.getElementById('tournamentResponse');
			responseBox.textContent = "Creating tournament...";

			try {
				const res = await fetch("https://d33.app.n8n.cloud/webhook/create-tournament", {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(data)
				});
				const text = await res.text();
				responseBox.textContent = "Tournament created successfully!";
			} catch (err) {
				responseBox.textContent = "Error creating tournament. Please try again.";
				console.error(err);
			}
		});
		</script>

	</body>
</html>
